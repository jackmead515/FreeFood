(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){e.exports=n(76)},69:function(e,t,n){},74:function(e){e.exports={}},76:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(28),i=n.n(r),l=n(12),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=n(2),d={emails:{data:[],lastSynced:null}},m={emails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CACHE_EMAILS":return Object(u.a)({},e,{emails:{data:t.data,lastSynced:new Date}});default:return e}}},h=n(14),f=n.n(h),v=n(78),b=n(79),p=n(80),y=n(11),k=n(35),g=(n(63),n(19)),E=Object(g.a)({key:"root",storage:k.a},m),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d;var _=Object(y.e)(E,{},w(y.a.apply(void 0,[]))),j=Object(g.b)(_),O=n(32),C=n(33),N=n.n(C),x=(n(69),n(6)),L=n(7),D=n(9),W=n(8),S=n(10),I=(n(74),function(e){function t(e){var n;Object(x.a)(this,t),(n=Object(D.a)(this,Object(W.a)(t).call(this,e))).interval=null,n.styles={container:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:21,height:21,borderRadius:"50%"},block:{width:7,height:7,borderRadius:"50%"}},n.state={colors:[{backgroundColor:"red"},{backgroundColor:"blue"},{backgroundColor:"yellow"},{backgroundColor:"green"},{backgroundColor:e.backColor?e.backColor:"white"},{backgroundColor:e.backColor?e.backColor:"white"},{backgroundColor:e.backColor?e.backColor:"white"},{backgroundColor:e.backColor?e.backColor:"white"},{backgroundColor:e.backColor?e.backColor:"white"}],opacity:{opacity:e.fadeIn?0:1}};var a=e.scaler?e.scaler:1;return n.styles.container.width=n.styles.container.width*a,n.styles.container.height=n.styles.container.height*a,n.styles.block.width=n.styles.block.width*a,n.styles.block.height=n.styles.block.height*a,n.speed=e.speed?e.speed:60,n}return Object(S.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){var t=e.state.colors,n=e.state.opacity;if(e.props.reverse){var a=t[t.length-1];t.pop(),t.unshift(a)}else{var o=t[0];t.shift(),t.push(o)}n.opacity<1&&(n.opacity+=.06),e.setState({colors:t,opacity:n})},this.speed)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return o.a.createElement("div",{style:Object(u.a)({},this.props.containerStyles)},o.a.createElement("div",{style:Object(u.a)({},this.styles.container,this.state.opacity)},o.a.createElement("div",{style:Object(u.a)({},this.state.colors[0],this.styles.block)}),o.a.createElement("div",{style:Object(u.a)({},this.state.colors[1],this.styles.block)}),o.a.createElement("div",{style:Object(u.a)({},this.state.colors[2],this.styles.block)}),o.a.createElement("div",{style:Object(u.a)({},this.state.colors[7],this.styles.block)}),o.a.createElement("div",{style:Object(u.a)({},this.styles.block)}),o.a.createElement("div",{style:Object(u.a)({},this.state.colors[3],this.styles.block)}),o.a.createElement("div",{style:Object(u.a)({},this.state.colors[6],this.styles.block)}),o.a.createElement("div",{style:Object(u.a)({},this.state.colors[5],this.styles.block)}),o.a.createElement("div",{style:Object(u.a)({},this.state.colors[4],this.styles.block)})))}}]),t}(a.Component)),M=function(e){function t(e){var n;return Object(x.a)(this,t),(n=Object(D.a)(this,Object(W.a)(t).call(this,e))).state={display:"none"},n}return Object(S.a)(t,e),Object(L.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.animate;setTimeout(function(){e.setState({display:"flex"})},t)}},{key:"renderLocations",value:function(e){var t=[],n=0;if(e)for(var a=0;a<2;a++){var r=e[a];if(!r)break;t.push(o.a.createElement("span",{key:"l-"+n,className:"cemail__location"},r)),n+=1}return t}},{key:"renderDatesandTimes",value:function(e,t){var n=[],a=0;if(e)for(var r=0;r<2;r++){var i=e[r];if(!i)break;n.push(i),1!==r&&e[r+1]&&(n.push(o.a.createElement("b",{key:"l-"+a,className:"cemail__seperator"},"or")),a+=1)}if(t){n.length>0&&(n.push(o.a.createElement("b",{key:"l-"+a,className:"cemail__seperator"},"at")),a+=1);for(var l=0;l<2;l++){var c=t[l];if(!c)break;n.push(c),1!==l&&t[l+1]&&(n.push(o.a.createElement("b",{key:"l-"+a,className:"cemail__seperator"},"or")),a+=1)}}return n}},{key:"renderFoods",value:function(e){var t=[];if(e)for(var n=0;n<6;n++){var a=e[n];if(!a)break;t.push(o.a.createElement("span",{key:"f-"+n,className:"cemail__food"},a))}return t}},{key:"render",value:function(){var e=this,t=this.props.entities,n=this.state.display,a=this.renderLocations(t.locations),r=null;a&&(r=o.a.createElement("div",{className:"cemail__locations"},a));var i=this.renderDatesandTimes(t.dates,t.times),l=null;return i&&(l=o.a.createElement("div",{className:"cemail__times"},i)),o.a.createElement("div",{className:"cemail__container animatedFast fadeInLeft",style:{display:n},onClick:function(){return e.props.onClick()}},r,l,o.a.createElement("div",{className:"cemail__foods"},this.renderFoods(t.foods)))}}]),t}(a.Component),R=function(e){function t(e){var n;return Object(x.a)(this,t),(n=Object(D.a)(this,Object(W.a)(t).call(this,e))).state={},n}return Object(S.a)(t,e),Object(L.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderRaw",value:function(){var e=this.props.entities,t=this.props.raw;return e.dates&&e.dates.map(function(e){var n=new RegExp(e.toLowerCase()).exec(t.toLowerCase());null!==n&&(t=t.slice(0,n.index)+'<b style="color: green;">'+e+"</b>"+t.slice(n.index+e.length,t.length))}),e.times&&e.times.map(function(e){var n=new RegExp(e.toLowerCase()).exec(t.toLowerCase());null!==n&&(t=t.slice(0,n.index)+'<b style="color: red;">'+e+"</b>"+t.slice(n.index+e.length,t.length))}),e.locations&&e.locations.map(function(e){var n=new RegExp(e).exec(t);null!==n&&(t=t.slice(0,n.index)+'<b style="color: orange;">'+e+"</b>"+t.slice(n.index+e.length,t.length))}),e.foods&&e.foods.map(function(e){var n=new RegExp(e.toLowerCase()).exec(t.toLowerCase());null!==n&&(t=t.slice(0,n.index)+'<b style="color: blue;">'+e+"</b>"+t.slice(n.index+e.length,t.length))}),t}},{key:"renderDates",value:function(e){if(e)return o.a.createElement("div",null,e.map(function(e){return o.a.createElement("b",{className:"femail__entity",style:{color:"green"}},e)}))}},{key:"renderTimes",value:function(e){if(e)return o.a.createElement("div",null,e.map(function(e){return o.a.createElement("b",{className:"femail__entity",style:{color:"red"}},e)}))}},{key:"renderLocations",value:function(e){if(e)return o.a.createElement("div",null,e.map(function(e){return o.a.createElement("b",{className:"femail__entity",style:{color:"orange"}},e)}))}},{key:"renderFoods",value:function(e){if(e)return o.a.createElement("div",null,e.map(function(e){return o.a.createElement("b",{className:"femail__entity",style:{color:"blue"}},e)}))}},{key:"render",value:function(){var e=this.props,t=e.entities,n=(e.raw,e.subject);return o.a.createElement("div",{className:"femail__container animated fadeInUp"},this.renderDates(t.dates),this.renderTimes(t.times),this.renderLocations(t.locations),this.renderFoods(t.foods),o.a.createElement("h3",{className:"femail__subject"},n),o.a.createElement("p",{className:"femail__raw",dangerouslySetInnerHTML:{__html:this.renderRaw()}}))}}]),t}(a.Component),F=function(e){function t(e){var n;return Object(x.a)(this,t),(n=Object(D.a)(this,Object(W.a)(t).call(this,e))).state={},n}return Object(S.a)(t,e),Object(L.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"navigator__container"},o.a.createElement("div",{className:"navigator__element",onClick:function(){return H.push("/")}},"Home"),o.a.createElement("div",{className:"navigator__title animated fadeInDown"},"Free Food!"),o.a.createElement("div",{className:"navigator__element",onClick:function(){return H.push("/auth/login")}},"Login"))}}]),t}(a.Component),T=Object(l.b)(function(e){return Object(u.a)({},e)})(F),U=function(e){function t(e){var n;return Object(x.a)(this,t),(n=Object(D.a)(this,Object(W.a)(t).call(this,e))).state={emails:[],fullEmail:null,loading:!0},n}return Object(S.a)(t,e),Object(L.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;f.a.post("/api/list").then(function(t){e.setState({emails:t.data,loading:!1})}).catch(function(e){H.push("/auth/login")})}},{key:"componentWillUnmount",value:function(){}},{key:"renderFullEmail",value:function(){var e=this.state.fullEmail;if(e)return o.a.createElement(R,{entities:e.data[0].entities,raw:e.data[0].raw,subject:e.data[0].subject})}},{key:"renderCondenced",value:function(){var e=this,t=this.state,n=t.emails;return t.loading&&n.length<=0?o.a.createElement("div",{key:"emails",className:"dashboard__loadingcontainer"},o.a.createElement("h2",{className:"dashboard__loadingtext"},"Finding food for you!"),o.a.createElement(I,{scaler:2,backColor:"#00cccc"})):o.a.createElement("div",{key:"emails",className:"dashboard__emailcontainer"},this.renderFullEmail(),o.a.createElement("div",{className:"dashboard__condencedcontainer"},n.map(function(t,n){return o.a.createElement(M,{key:"c-"+n,animate:100*n,entities:t.data[0].entities,onClick:function(){e.setState({fullEmail:t}),window.scrollTo(0,0)}})})))}},{key:"render",value:function(){var e=[];return e.push(o.a.createElement(T,{key:"nav"})),e.push(this.renderCondenced()),e}}]),t}(a.Component),A=Object(l.b)(function(e){return Object(u.a)({},e)})(U);n.d(t,"history",function(){return H}),f.a.defaults.headers.common["Content-Type"]="application/json",f.a.defaults.baseURL="https://www.freefood.org";var H=N()();i.a.render(o.a.createElement(O.PersistGate,{persistor:j},o.a.createElement(l.a,{store:_},o.a.createElement(v.a,{history:H},o.a.createElement(b.a,null,o.a.createElement(p.a,{exact:!0,path:"/",component:A}))))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");c?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):s(e)})}}()}},[[36,2,1]]]);
//# sourceMappingURL=main.5cd5650a.chunk.js.map